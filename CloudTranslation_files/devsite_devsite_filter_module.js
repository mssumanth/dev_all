(function(_ds){var window=this;var vva=function(a){return(0,_ds.T)("<tr no-matches><td colspan="+_ds.Jy(a.dL)+">No matches</td></tr>")},wva=function(){return(0,_ds.T)("<li no-matches>No matches</li>")},xva=function(a){a=a.vM;a=_ds.eP(new _ds.cP("{RESULTS_COUNT_1,plural,=0{No results}=1{1 result}other{{RESULTS_COUNT_2} results}}"),{RESULTS_COUNT_1:a,RESULTS_COUNT_2:_ds.U(a)});return(0,_ds.T)('<span class="results-count-text">'+a+"</span>")},yva=function(){return(0,_ds.T)('<div class="devsite-filter-input-container"></div>')},zva=
function(){let a;a='<span class="devsite-filter-clear-button hidden" aria-label="'+_ds.By("Clear filter");a=a+'" data-title="'+_ds.By("Clear filter");return(0,_ds.T)(a+'" role="button" tabindex="0"></span>')};var d5=function(a,b,c,d,e){b=b.toLowerCase();if(c||d){var f=e?e:Array.from(a.querySelectorAll("td"));if(!f||0===f.length)return!1;d?a=d===c?f[d-1]:null:c&&f[c-1]&&(a=f[c-1]);f=!0}if(!a)return!1;c=!1;!e||f?c=a.textContent.toLowerCase().includes(b):c=e.length?e.some(g=>g.textContent.toLowerCase().includes(b)):!1;if(!c)for(a=document.createNodeIterator(a,NodeFilter.SHOW_COMMENT,{acceptNode:()=>NodeFilter.FILTER_ACCEPT});e=a.nextNode();)e.nodeValue.toLowerCase().includes(b)&&(c=!0);return c},Ava=function(a){const b=
a.querySelector(".devsite-filter");if(b){const c=document.querySelector(`#${b.getAttribute("data-div")}`);c&&a.appendChild(c);["data-classes","data-div","data-max-rows"].forEach(d=>{b.hasAttribute(d)&&b.removeAttribute(d)});b.classList.remove("devsite-filter")}},Bva=async function(a){a.Cd=Array.from(a.querySelectorAll("[results-count-container]"));a.j=a.querySelector("input[type=text]")||document.querySelector(".devsite-filter-input");if(a.j){a.Fa=_ds.N(zva);var b=_ds.N(yva);_ds.Qk(b,a.j);b.appendChild(a.j);
b.appendChild(a.Fa)}let c;if(a.hasAttribute("select-el-container-id")){b=a.getAttribute("select-el-container-id").split(" ");for(var d of b){const f=(b=document.querySelector(`#${d}`))?"DEVSITE-SELECT"===b.tagName.toUpperCase()||b.querySelector("devsite-select"):null;b&&f&&(c||(c=b.querySelector("[selected]")),a.ra.push(b))}a.Qa=a.ra.some(f=>(f=f.querySelector("select"))&&f.multiple)}a.hasAttribute("checkbox-form-id")&&(d=a.getAttribute("checkbox-form-id"),a.g=document.getElementById(d),e5(a),a.v=
a.g.querySelector(".toggle-all"),a.oa=a.g.querySelector(".select-all"),a.ea=a.g.querySelector(".clear-all"),a.oa&&a.oa.setAttribute("type","button"),a.ea&&a.ea.setAttribute("type","button"));a.h=a.querySelector(".list");if(a.h&&a.h.children.length){a.Za=!!a.h.querySelector("[rowspan]");a.ya=f5(a);a.hasAttribute("hide-if-empty")&&(a.Sb="hide");if("TBODY"===a.h.tagName.toUpperCase()&&"notification"===a.Sb){d=Array.from(a.querySelectorAll("th:not(.hidden)"));for(var e of d)a.ib=e.hasAttribute("colspan")?
a.ib+parseInt(e.getAttribute("colspan"),10):a.ib+1}a.Ja=a.Qa?"multi":a.g?"any":"all";a.hasAttribute("match")&&!a.Qa&&(e=a.getAttribute("match").toLowerCase(),"all"===e||"any"===e)&&(a.Ja=e);a.g&&(g5(a),(a.oa||a.ea)&&a.Ab(),h5(a))}a.Na=a.querySelector("devsite-pagination");c&&a.ra.length&&a.ya.length&&(await customElements.whenDefined("devsite-select"),a.Ga());a.hasAttribute("sortable")&&(a.Ea=Array.from(a.querySelectorAll("th")),a.Ea.length&&(e=f5(a),e.length&&(d=parseInt(a.getAttribute("sortable"),
10)||0,i5(a,a.Ea[d]),j5(a,e,d),k5(a))));c||h5(a)},Eva=async function(a){a.j&&a.ya.length&&(a.Ba.listen(a.j,"keyup",()=>void a.Jg.fb()),a.Fa&&a.Ba.listen(a.Fa,["click","keydown"],b=>{"click"!==b.type&&13!==b.keyCode&&27!==b.keyCode||!a.j||(a.j.value="",a.Ga())}));if(a.ra.length&&a.ya.length){await customElements.whenDefined("devsite-select");for(const b of a.ra){const c=b.querySelector("ul");c&&a.Ba.listen(c,["click","keypress"],a.Ga);c&&a.g&&(a.oa||a.ea)&&a.Ba.listen(c,["click","keypress"],a.Ab)}}a.g&&
a.ya.length&&(a.Ba.listen(a.g,["click","keypress"],b=>{b.target!==a.oa&&b.target!==a.ea||Cva(a,b)}),a.g.querySelectorAll("input[type=checkbox]")&&(a.v&&l5(a),a.Ba.listen(a.g,"change",b=>{Dva(a,b)})));a.Ea.length&&a.ya.length&&a.Ea.forEach((b,c)=>{a.Ba.listen(b,"click",a.Je.bind(a,c))})},Cva=function(a,b){const c={category:"Site-Wide Custom Events",action:null,label:`#${a.g.id}`};b=b.target;if(b===a.oa){for(var d of a.ra)if(d.querySelector("select").multiple){const f=d.querySelectorAll("option"),g=
d.querySelectorAll(".devsite-select-item");for(var e of f)_ds.Hj(a,"selected","true",e);for(const h of g)_ds.Hj(a,"data-selected","true",h),_ds.Hj(a,"aria-selected","true",h)}a.Da.forEach(f=>{f.checked=!0});c.action="devsite-filter select-all click"}if(b===a.ea){if(a.ra.length)for(const f of a.ra){d=f.querySelectorAll("option[selected]");e=f.querySelectorAll(".devsite-select-item[data-selected]");for(const g of d)g.removeAttribute("selected");for(const g of e)g.removeAttribute("data-selected"),_ds.Hj(a,
"aria-selected","false",g);a.Qa||_ds.Hj(a,"reset","",f)}a.Da.forEach(f=>{f.checked=!1});c.action="devsite-filter clear-all click"}a.Ab();a.Ga();a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:c,bubbles:!0}))},l5=function(a){const b=a.g.querySelectorAll(":checked:not(.toggle-all)").length;b===a.Da.length?(a.v.indeterminate=!1,a.v.checked=!0):b<a.Da.length&&0<b?a.v.indeterminate=!0:0===b&&(a.v.indeterminate=!1,a.v.checked=!1)},Dva=function(a,b){var c=b.target;a.v&&(c===a.v?a.Da.forEach(d=>
{d.checked=a.v.checked}):l5(a));(a.oa||a.ea)&&a.Ab();a.Ga();b=c.checked?"check":"uncheck";c=c===a.v?"toggle-all":m5(a,c);a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:{category:"Site-Wide Custom Events",action:`${"devsite-filter"} checkbox ${b}`,label:`${c} (#${a.g.id})`},bubbles:!0}))},e5=function(a){a.xa=[];a.j&&a.xa.push({text:a.j.value.trim().toLowerCase(),columnNumber:parseInt(a.j.getAttribute("column"),10)||void 0,Xj:"devsite-filter-input"});if(a.ra.length)for(const b of a.ra){const c=
b.querySelector("select");if(c){let d=[];if(c.multiple&&-1!==c.selectedIndex)for(const e of c.options)e.hasAttribute("selected")&&d.push(e);else!c.multiple&&0!==c.selectedIndex&&c.options[c.selectedIndex].hasAttribute("selected")&&d.push(c.options[c.selectedIndex]);d.forEach(e=>{a.xa.push({text:e.value||e.text.trim().toLowerCase(),columnNumber:parseInt(b.getAttribute("column"),10)||void 0,Xj:b.id})})}}a.g&&(a.Da=a.g.querySelectorAll("input[type=checkbox]:not(.toggle-all)"),Array.from(a.Da).forEach(b=>
{b.checked&&a.xa.push({text:m5(a,b),columnNumber:parseInt(b.getAttribute("column"),10)||void 0,Xj:b.id})}))},g5=function(a){_ds.Pk(a.h);if(!a.xa.length&&a.Qa)for(const b of a.ya)n5(a,b);else if("multi"===a.Ja&&(a.La={},a.xa.forEach(b=>{a.La[b.Xj]?a.La[b.Xj].push(b):a.La[b.Xj]=[b]})),a.Za)for(const b of a.ya)Array.isArray(b)?Fva(a,b):o5(a,b)&&n5(a,b);else for(const b of a.ya)o5(a,b)&&n5(a,b)},h5=function(a){if(a.hasAttribute("show-results-count"))for(const b of a.Cd)_ds.M(b,xva,{vM:a.h.children.length});
a.h.children.length?a.removeAttribute("empty"):(a.setAttribute("empty",""),"hide"!==a.Sb&&("TBODY"===a.h.tagName.toUpperCase()?_ds.M(a.h,vva,{dL:a.ib}):"UL"===a.h.tagName.toUpperCase()&&_ds.M(a.h,wva)));Gva(a)},p5=function(a){for(const b of a.Ea)b.removeAttribute("sort-ascending"),b.removeAttribute("sort-descending")},k5=function(a){a.Na&&(a.Na.hasAttribute("reset")?a.Na.removeAttribute("reset"):a.Na.setAttribute("reset",""))},f5=function(a){const b=Array.from(a.h.children);if(a.Za)for(const [c,d]of b.entries())"TR"===
d.tagName.toUpperCase()&&d.querySelector("[rowspan]")&&(a=parseInt(d.querySelector("[rowspan]").getAttribute("rowspan"),0)||0,0<a&&b.splice(c,a,b.slice(c,c+a)));return b},i5=function(a,b){b.hasAttribute("sort-ascending")?(p5(a),b.setAttribute("sort-descending",""),a.Pc=!0):(p5(a),b.setAttribute("sort-ascending",""),a.Pc=!1)},j5=function(a,b,c){b=b.map(d=>{if(!a.Za)return q5(d,c);if(Array.isArray(d)){var e=d[0]?d[0].querySelector("[rowspan]"):null;if(0!==d.length&&e){var f=Array.from(d[0].querySelectorAll("td")).indexOf(e);
if(c===f)return q5(d,c,e);e=d.map(h=>h.cloneNode(!0));d=e[0].removeChild(e[0].querySelector("[rowspan]"));const g=c>f?1:0;e=e.map(h=>{if(h.querySelectorAll("td")[c-g])return q5(h,c-g)}).filter(Boolean);if(0!==e.length)return r5(a,e),e[0].element.insertBefore(d,e[0].element.querySelectorAll("td")[f]),f=e.map(h=>h.element),d=e.map(h=>h.text).join(""),{element:f,text:d}}}else return q5(d,c)}).filter(Boolean);if(0!==b.length){r5(a,b);_ds.Pk(a.h);for(const d of b)if(Array.isArray(d.element))for(const e of d.element)a.h.appendChild(e);
else a.h.appendChild(d.element)}},m5=function(a,b){if(!b)return"";let c=b.getAttribute("value");!c&&b.id&&a.g&&(a=a.g.querySelector(`[for=${b.id}]`))&&(c=a.textContent.trim());return c},o5=function(a,b,c,d){if("all"===a.Ja)return a.xa.every(e=>d5(b,e.text,e.columnNumber,c,d));if("any"===a.Ja)return a.xa.some(e=>d5(b,e.text,e.columnNumber,c,d));if("multi"===a.Ja){let e=!0;for(const f of Object.keys(a.La))if(e=!a.La[f].some(g=>d5(b,g.text,g.columnNumber,c,d)))break;return!e}},n5=function(a,b){if(Array.isArray(b))for(const c of b)s5(a,
c);else s5(a,b)},Fva=function(a,b){const c=b[0]?b[0].querySelector("[rowspan]"):null;if(c&&0!==b.length){var d=Array.from(b[0].querySelectorAll("td")).indexOf(c);if(o5(a,b[0],d+1))n5(a,b);else{var e=0;for(let [g,h]of b.entries())if(b=Array.from(h.querySelectorAll("td")),0!==g&&b.splice(d,0,c),o5(a,h,void 0,b)){e++;if(1===e)if(h=b=h.cloneNode(!0),0===g)var f=b.querySelector("[rowspan]");else f=c.cloneNode(!0),b.insertBefore(f,b.querySelectorAll("td")[d]);f.setAttribute("rowspan",e.toString());n5(a,
h)}}}},Gva=function(a){if(a.Fa){var b,c;(null==(b=a.xa.find(d=>"devsite-filter-input"===d.Xj))?0:null==(c=b.text)?0:c.length)?a.Fa.classList.remove("hidden"):a.Fa.classList.add("hidden")}},s5=function(a,b){a.hasAttribute("highlight")&&a.j&&(b=Hva(a,b,a.xa[0].text));a.h.appendChild(b)},Hva=function(a,b,c){var d=a.getAttribute("highlight");if(!d.length)return b;d=d.split(",");d=d.map(e=>Array.from(b.querySelectorAll(e))).flat();d=d.filter(e=>e.children.length?Array.from(e.children).every(f=>"MARK"===
f.tagName.toUpperCase()):!0);d.forEach(e=>{let f=_ds.kl(e);c.length&&(f=f.replace(new RegExp(`(${c})`,"ig"),"<mark>$1</mark>"));_ds.Qe(e,a.Ie.If(f))});return b},q5=function(a,b,c){if(Array.isArray(a))return c?{element:a,text:c.textContent.trim().toLowerCase()}:void 0;if(a.querySelectorAll("td")[b])return{element:a,text:a.querySelectorAll("td")[b].textContent.trim().toLowerCase()}},r5=function(a,b){let c=(e,f)=>e.localeCompare(f);if(a.hasAttribute("sort-comparison")){const e=a.getAttribute("sort-comparison");
switch(e){case "lexicographic":break;case "numeric":c=_ds.kk;break;default:console.warn("Invalid sort comparator for filter: "+e)}}const d=a.Pc?-1:1;b.sort((e,f)=>c(e.text,f.text)*d)},t5=class extends _ds.C{constructor(){super();this.Ba=new _ds.F(this);this.Bd=!1;this.Fa=this.j=null;this.ra=[];this.xa=[];this.g=null;this.La={};this.ea=this.oa=this.v=this.Da=null;this.Ja="";this.Za=!1;this.Ie=_ds.Dj(_ds.Bj(_ds.Cj(new _ds.Ej)));this.Jg=new _ds.Gn(()=>{this.Ga()},20);this.h=null;this.ya=[];this.Sb="notification";
this.ib=0;this.Ea=[];this.Pc=!1;this.Na=null;this.Qa=!1;this.Cd=[];_ds.Gj(this,(0,_ds.q)`selected`,(0,_ds.q)`data-selected`,(0,_ds.q)`aria-selected`,(0,_ds.q)`reset`)}connectedCallback(){this.Bd||(Ava(this),Bva(this),this.Bd=!0);Eva(this)}disconnectedCallback(){_ds.H(this.Ba)}Ga(){e5(this);g5(this);h5(this);this.Ea.length&&p5(this);k5(this);this.dispatchEvent(new CustomEvent("devsite-content-updated",{bubbles:!0}))}Je(a,b){const c=f5(this);c.length&&((b=b.target)&&i5(this,b),j5(this,c,a));k5(this)}Ab(){const a=
this.g.querySelectorAll("input:checked:not(.toggle-all)").length,b=this.g.querySelectorAll("option"),c=this.g.querySelectorAll("option[selected]").length;this.oa&&(this.oa.disabled=a+c===this.Da.length+b.length);this.ea&&(this.ea.disabled=0===a+c)}};t5.prototype.disconnectedCallback=t5.prototype.disconnectedCallback;t5.prototype.connectedCallback=t5.prototype.connectedCallback;try{customElements.define("devsite-filter",t5)}catch(a){console.warn("devsite.app.customElement.DevsiteFilter",a)};})(_ds_www);
